<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiefruhr - Infinite Wiki</title>
    <link rel="icon" type="image/png" href="/infinite-wiki/static/favicon.png">
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f4f4f4;
            color: #333;
        }

        header {
            background: #333;
            color: #fff;
            padding: 1rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        a {
            color: #0066cc;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .container {
            background: #fff;
            padding: 2rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .image-container {
            text-align: center;
            margin: 1rem 0;
        }

        img {
            max-width: 50%;
            height: auto;
            border-radius: 5px;
        }

        .related {
            margin-top: 2rem;
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }

        .related ul {
            list-style: none;
            padding: 0;
        }

        .related li {
            display: inline-block;
            margin-right: 10px;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 20px;
            font-style: italic;
            color: #666;
        }
    </style>
</head>

<body>
    <header>
        <h1><a href="/infinite-wiki/world/ruhr-neon-depths" style="color: #fff;">Infinite Wiki: ruhr-neon-depths</a>
        </h1>
        <div>
            <a href="/infinite-wiki/world/ruhr-neon-depths/visualizers"
                style="color: #ccc; font-size: 0.9em; margin-right: 10px;">Visualizers</a>
            <a href="/infinite-wiki/api/world/ruhr-neon-depths/timeline_data"
                style="color: #ccc; font-size: 0.9em; margin-right: 10px;">Timeline Data</a>
            <a href="/infinite-wiki/" style="color: #ccc; font-size: 0.8em;">(Switch World)</a>
        </div>
    </header>
    <div class="container">
        
<div id="delta-alert"
    style="display: none; background-color: #d4edda; color: #155724; padding: 15px; margin-bottom: 20px; border: 1px solid #c3e6cb; border-radius: 4px;">
    <strong>Update Successful:</strong> <span id="delta-msg"></span>
</div>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const delta = urlParams.get('delta');
    if (delta) {
        document.getElementById('delta-msg').textContent = delta;
        document.getElementById('delta-alert').style.display = 'block';
        // Clean URL
        window.history.replaceState({}, document.title, window.location.pathname);
    }
</script>
<div style="display: flex; justify-content: space-between; align-items: center;">
    <h2>Tiefruhr</h2>
    <div style="display: flex; gap: 10px;">
        <button onclick="extractEvents()" class="button"
            style="font-size: 0.8em; padding: 5px 10px; background-color: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer;">Extract
            Events</button>
        <button onclick="integrateInfo()" class="button"
            style="font-size: 0.8em; padding: 5px 10px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Integrate
            New Info</button>
        <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Tiefruhr/edit" class="button"
            style="font-size: 0.8em; padding: 5px 10px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;">Edit</a>
    </div>
</div>

<p style="margin-top: -10px; color: #666; font-style: italic;">2147</p>



<div class="image-container">
    <img src="/infinite-wiki/world/ruhr-neon-depths/images/Tiefruhr.png" alt="Tiefruhr&#39;s glowing depths: neon megacity in the mine-veins.">
    <p class="caption">Tiefruhr&#39;s glowing depths: neon megacity in the mine-veins.</p>
</div>


<div class="summary">
    <strong>Summary:</strong> Tiefruhr, the sprawling neon-veined megacity etched into the Ruhr&#39;s forsaken coal mines, pulses with 50 million cyber-augmented souls amid rusted stollens, geothermal vents, and corporate shadows—a high-tech low-life labyrinth born from the Great Delve.
</div>

<hr>

<div class="content">
    <h1><strong><a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a>: Neon Heart of the Depths</strong></h1>
<p><em>Leaked Schacht-scribe holovid, jacked from <a href="/world/ruhr-neon-depths/wiki/Kernschacht" class="new-article" data-title="Kernschacht">Kernschacht</a> relay-node, Stollen 47. Graffiti-burned by Grubengeist shadow-scribes. Ozone stings your nostrils yet? Neon veins throb in the black. 50 million cyber-souls crammed in rusted Stollens, geothermal vents hissing steam, corp-drones whirring overhead. <a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a> – high-tech low-life maze, birthed in the <a href="/world/ruhr-neon-depths/wiki/Great%20Delve" class="new-article" data-title="Great Delve">Great Delve</a>. I etched this from a dripping ledge, neural-jack sparking. Corps own the glow. We own the grit. Read deep, chummer. Or stay surfacedead.</em></p>
<p><a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a> sprawls like a cyber-lung in Ruhr's forsaken coal-veins. Rusted Schächte pulse blue-neon. Drip-dank echoes eternal. Fusion vents belch heat, nano-grubers chew new paths. Megacorps drill for power. Augmented dwellers jack in, dodge cave-ins, trade black-market chrome. Labyrinth of districts, enclaves, shadows. Born from slag-sky apocalypse. Thrives on synth-adrenalin and spite.</p>
<h2><strong>Genesis in the Delve: From Surface Slag to Subterranean Sprawl</strong></h2>
<p>[datastream: <a href="/world/ruhr-neon-depths/wiki/The%20Great%20Delve%3A%20Founding%20of%20Tiefruhr">The Great Delve: Founding of Tiefruhr</a>]. [datastream: <a href="/world/ruhr-neon-depths/wiki/Eisenkrieg%20Logs">Eisenkrieg Logs</a>]. 2147. Himmel cracked. Corp-rails slagged Ruhr topside – <a href="/world/ruhr-neon-depths/wiki/Essen" class="new-article" data-title="Essen">Essen</a> glassed, <a href="/world/ruhr-neon-depths/wiki/Dortmund" class="new-article" data-title="Dortmund">Dortmund</a> boiled. Nano-tox choked skies red. "Tiefer gehen oder sterben." I hauled cargo at Schacht 12 when lifts groaned. Millions swarmed down. Chaos: snapscreams in abyss, cyber-rats gnawing fallen. Frau Stahlherz rallied with plasma-torch fists – "Wir graben unser Reich!" Corps dropped hab-pods first, sealing vents with smart-foam. <a href="/world/ruhr-neon-depths/wiki/Eisenvolk" class="new-article" data-title="Eisenvolk">Eisenvolk</a> claimed fusion hearts. Neo-Bergbau tunneled vaults. We clawed districts from schutt. Pioneers geo-printed habs, neon vines snaking stalactites. Delve birthed <a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a>. Ghosts still whisper from the walls.</p>
<h2><strong>The Labyrinthine Districts: <a href="/world/ruhr-neon-depths/wiki/Kernschacht" class="new-article" data-title="Kernschacht">Kernschacht</a> to <a href="/world/ruhr-neon-depths/wiki/Geistergasse" class="new-article" data-title="Geistergasse">Geistergasse</a></strong></h2>
<p><a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a>'s maze twists 50 klicks deep. Districts faction-carved, neon-tagged. <strong><a href="/world/ruhr-neon-depths/wiki/Kernschacht" class="new-article" data-title="Kernschacht">Kernschacht</a></strong>: Corp-core, chrome-spires drilled into heart-rock. Fusion-blue glow, sec-drones buzz like hornissen. Elites sip synth-wein, optics scanning underdwellers. <strong><a href="/world/ruhr-neon-depths/wiki/Stollenmarkt" class="new-article" data-title="Stollenmarkt">Stollenmarkt</a></strong>: Rust-bazaar hums spice-smoke, mag-lev carts screeching. Hack black chrome, guzzle phosphor-bier. I scored my ghost-arm there – itches in the damp. <strong><a href="/world/ruhr-neon-depths/wiki/Geistergasse" class="new-article" data-title="Geistergasse">Geistergasse</a></strong>: Hacker-haunt, walls pulse holo-graffiti. <a href="/world/ruhr-neon-depths/wiki/Grubengeister" class="new-article" data-title="Grubengeister">Grubengeister</a> jack neural-nets, slicing corp-firewalls. <strong>Ventstadt</strong>: Steam-veiled slums around geothermal mouths, oxy-suits mandatory. Drip-stalactites crack skulls. <strong>Nomaden-Tunnel</strong>: Clan-tracks on rail-trolleys, dodging unstable Schächte. <strong>Tieffelsgrube</strong>: Voidkin cults chant in abyss-voids, glow-worms lighting rituals. Wind moans through cracks. Neon buzz fights the black.</p>
<h2><strong>Corporate Overlords and Rebel Enclaves: Power in the Veins</strong></h2>
<p>Corps rule the vents. [datastream: Volkhardt Proto-Cols]. <strong><a href="/world/ruhr-neon-depths/wiki/Eisenvolk" class="new-article" data-title="Eisenvolk">Eisenvolk</a></strong>: Stahl-kings, orbital slag survivors. Pump fusion-rigs, drone-patrol Stollens. Stahlfaust's heirs jack god-nets from <a href="/world/ruhr-neon-depths/wiki/Kernschacht" class="new-article" data-title="Kernschacht">Kernschacht</a> thrones. <strong><a href="/world/ruhr-neon-depths/wiki/Neo-Bergbau%20AG">Neo-Bergbau AG</a></strong>: Tunnel-tyrants, smart-slug swarmers. Seal veins with nano-foam, mine deep-core plasma. Underdwellers? Fuel for their grind.</p>
<p>Rebels bite back. <strong><a href="/world/ruhr-neon-depths/wiki/Grubengeister" class="new-article" data-title="Grubengeister">Grubengeister</a></strong>: Mine-ghost hackers, me included. Vox-preach from walls, [datastream: Voidkin Cults]. <strong>Stahlrat Unions</strong>: Chrome-fisted workers, plasma-torches ready. Frau Stahlherz's echo lives. <strong>Nomaden Clans</strong>: Mag-lev wanderers, blade-limbs whirring raids. Enclaves faction – black-markets link 'em. Corps got drones. We got spite. Balance teeters.</p>
<h2><strong>Tech of the Black: Fusion Vents, Neural Jacks, and Nano-Grubers</strong></h2>
<p>Delve-spawned chrome keeps us breathing. <strong>Vent-Fusion Rigs</strong>: Corps' blue-heart, geothermal plasma humming endless power. Ozone tang thick near 'em. <strong>Neural-Schacht Links</strong>: Jack in, map the maze – my optic-feed ghosts Delve-screams. <strong>Nano-Grubers</strong>: Swarm-bots chew Stollens, coolant dripping like blood. Black-market bootlegs carve rebel paths. <strong>Oxy-Weave Suits</strong>: Breathe poison, skin gleams chrome. Whir-click with every step. Salvaged rail-slug hulls plate habs. Holovid blueprints flicker in <a href="/world/ruhr-neon-depths/wiki/Geistergasse" class="new-article" data-title="Geistergasse">Geistergasse</a> stalls. Tech from slag. We spike it sharper.</p>
<h2><strong>Daily Grind: Life in the Eternal Drip-Dank</strong></h2>
<p>Dawn? Neon-flicker. Wake to Stollen-drip, cyber-limbs creak. Synth-meat sizzles in vent-heat stalls. Jack to shift: mine plasma-veins, dodge cave-ins, run corp-blackmail decks. <a href="/world/ruhr-neon-depths/wiki/Stollenmarkt" class="new-article" data-title="Stollenmarkt">Stollenmarkt</a> buzz – barter optics for adrena-packs, haggle nano-fleas. Gangs whir blades in shadows. Kids jack first neural-link young, eyes glow blue. Fights echo: plasma-etches on walls. "<a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a> lebt!" Phosphor-dust coats lungs. Night? Holo-dens pulse bass-throb, bodies grind under neon. Drip eternal. Grind forever. I scribe between shifts, veins buzzing.</p>
<h2><strong>Shadows on the Horizon: Unstable Shafts and Brewing Revolts</strong></h2>
<p><a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a> cracks. Unstable Schächte groan – seismic ghosts from <a href="/world/ruhr-neon-depths/wiki/Eisenkrieg" class="new-article" data-title="Eisenkrieg">Eisenkrieg</a> quakes. Vents overheat, steam scalds flesh. Corps squeeze harder: drone-swarms multiply, neural-taxes jack your skull. <a href="/world/ruhr-neon-depths/wiki/Grubengeister" class="new-article" data-title="Grubengeister">Grubengeister</a> rise. Holo-screeds flood nets: "Aus den Tiefen, die Revolution!" Stahlrat arms caches. Nomaden raid convoys. Voidkin summon abyss-howls. Annual Delve-Nights spark plasma-fests, but whispers brew real fire. I feel it in my ghost-arm itch. Deeper tremors. Corps watch relays. We watch the walls. <a href="/world/ruhr-neon-depths/wiki/Tiefruhr">Tiefruhr</a> pulses. Revolt simmers. Deeper we go, chummer. Or die shallow.</p>
<p><em>Datastream end. Scrub your jack. Drones inbound. Grubengeist out.</em></p>
</div>

<div class="related">
    <h3>Related Entries</h3>
    <ul>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Great Delve" onclick="showLoading()">Great Delve</a>
            <span style="font-size: 0.8em; color: #666;">(Event)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Eisenkrieg" onclick="showLoading()">Eisenkrieg</a>
            <span style="font-size: 0.8em; color: #666;">(Event)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Kernschacht" onclick="showLoading()">Kernschacht</a>
            <span style="font-size: 0.8em; color: #666;">(Location)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Stollenmarkt" onclick="showLoading()">Stollenmarkt</a>
            <span style="font-size: 0.8em; color: #666;">(Location)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Geistergasse" onclick="showLoading()">Geistergasse</a>
            <span style="font-size: 0.8em; color: #666;">(Location)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Eisenvolk" onclick="showLoading()">Eisenvolk</a>
            <span style="font-size: 0.8em; color: #666;">(Organization)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Neo-Bergbau AG" onclick="showLoading()">Neo-Bergbau AG</a>
            <span style="font-size: 0.8em; color: #666;">(Organization)</span>
        </li>
        
        <li>
            <a href="/infinite-wiki/world/ruhr-neon-depths/wiki/Grubengeister" onclick="showLoading()">Grubengeister</a>
            <span style="font-size: 0.8em; color: #666;">(Organization)</span>
        </li>
        
    </ul>
</div>

<div id="loading-msg" class="loading">
    Generating content for the next entry... This might take a moment.
</div>

<!-- Select-to-Generate Feature -->
<div id="generate-ui" class="generate-ui" style="display: none;">
    <input type="text" id="gen-input" placeholder="Context (optional)..." class="gen-input">
    <button id="generate-btn" class="generate-btn">
        <span class="icon">✨</span> Generate
    </button>
</div>

<style>
    .generate-ui {
        position: absolute;
        z-index: 1000;
        background: #2c3e50;
        padding: 5px;
        border-radius: 25px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 5px;
        transition: transform 0.2s, opacity 0.2s;
    }

    .gen-input {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        padding: 8px 12px;
        border-radius: 20px;
        font-size: 14px;
        outline: none;
        width: 150px;
        transition: width 0.2s, background 0.2s;
    }

    .gen-input:focus {
        background: rgba(255, 255, 255, 0.2);
        width: 200px;
    }

    .gen-input::placeholder {
        color: rgba(255, 255, 255, 0.6);
    }

    .generate-btn {
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 6px;
        white-space: nowrap;
    }

    .generate-btn:hover {
        background: #0056b3;
    }

    /* Mobile Styles */
    @media (max-width: 768px) {
        .generate-ui.mobile-visible {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            padding: 8px;
            animation: slideUp 0.3s ease-out;
        }

        .gen-input {
            flex: 1;
            width: auto;
        }

        .gen-input:focus {
            width: auto;
        }

        @keyframes slideUp {
            from {
                transform: translate(-50%, 100%);
                opacity: 0;
            }

            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }
    }

    /* Red Link Style */
    a.new-article {
        color: #dc3545;
        text-decoration: none;
        border-bottom: 1px dashed #dc3545;
    }

    a.new-article:hover {
        background-color: rgba(220, 53, 69, 0.1);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const ui = document.getElementById('generate-ui');
        const btn = document.getElementById('generate-btn');
        const input = document.getElementById('gen-input');
        const contentArea = document.querySelector('.content');

        // Prevent selection loss when clicking inside the UI, but allow input focus
        ui.addEventListener('mousedown', (e) => {
            if (e.target !== input) {
                e.preventDefault();
            }
        });

        // Handle selection changes
        document.addEventListener('selectionchange', () => {
            const selection = window.getSelection();
            const text = selection.toString().trim();

            // If user is interacting with the input, don't hide
            if (document.activeElement === input) return;

            // Hide if no text or selection is outside content area
            if (!text || !contentArea.contains(selection.anchorNode)) {
                hideUI();
                return;
            }

            // Show UI
            showUI(selection);
        });

        function showUI(selection) {
            const range = selection.getRangeAt(0);
            const rect = range.getBoundingClientRect();
            const isMobile = window.innerWidth <= 768;

            ui.style.display = 'flex';

            if (isMobile) {
                ui.classList.add('mobile-visible');
                ui.style.top = 'auto';
                ui.style.left = '50%';
            } else {
                ui.classList.remove('mobile-visible');
                // Position above the selection
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                ui.style.top = `${rect.top + scrollTop - 50}px`;
                ui.style.left = `${rect.left + (rect.width / 2) - (ui.offsetWidth / 2)}px`;
            }
        }

        function hideUI() {
            ui.style.display = 'none';
            ui.classList.remove('mobile-visible');
            input.value = ''; // Clear input on hide
        }

        // Handle click
        btn.addEventListener('click', async (e) => {
            e.preventDefault();
            e.stopPropagation();

            const selection = window.getSelection();
            const text = selection.toString().trim();
            const description = input.value.trim();

            if (text) {
                // Clean text: remove non-alphanumeric chars from ends
                const cleanText = text.replace(/^[^a-zA-Z0-9]+|[^a-zA-Z0-9]+$/g, '');

                if (cleanText) {
                    // Show loading state
                    btn.innerHTML = '<span class="spinner" style="width:16px;height:16px;border:2px solid #fff;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;"></span>';
                    btn.disabled = true;

                    // Submit via Form Data to create_custom
                    const formData = new FormData();
                    formData.append('title', cleanText);
                    if (description) {
                        formData.append('description', description);
                    }

                    try {
                        const response = await fetch('/infinite-wiki/world/ruhr-neon-depths/create_custom', {
                            method: 'POST',
                            body: formData
                        });

                        if (response.redirected) {
                            window.location.href = response.url;
                        } else {
                            // Fallback if no redirect (shouldn't happen with current backend)
                            window.location.href = `/infinite-wiki/world/ruhr-neon-depths/wiki/${encodeURIComponent(cleanText)}`;
                        }
                    } catch (err) {
                        console.error("Generation failed:", err);
                        btn.innerHTML = 'Error';
                        setTimeout(() => {
                            btn.innerHTML = '<span class="icon">✨</span> Generate';
                            btn.disabled = false;
                        }, 2000);
                    }
                }
            }
        });

        // Add spin animation if not present
        if (!document.getElementById('spin-style')) {
            const style = document.createElement('style');
            style.id = 'spin-style';
            style.textContent = '@keyframes spin { to { transform: rotate(360deg); } }';
            document.head.appendChild(style);
        }
    });

    // Delegate event listener for red links (since they are dynamically inserted)
    document.addEventListener('click', async (e) => {
        if (e.target.matches('a.new-article')) {
            e.preventDefault();
            const title = e.target.dataset.title;
            const description = prompt(`Create new article: "${title}"?\n\nEnter optional instructions/context for the AI:`);

            if (description !== null) { // If not cancelled
                // Show loading on the link itself
                const originalText = e.target.innerText;
                e.target.innerText = "Creating...";
                e.target.style.pointerEvents = "none";

                // Submit to create_custom
                const formData = new FormData();
                formData.append('title', title);
                if (description) {
                    formData.append('description', description);
                }

                try {
                    const response = await fetch('/infinite-wiki/world/ruhr-neon-depths/create_custom', {
                        method: 'POST',
                        body: formData
                    });

                    if (response.redirected) {
                        window.location.href = response.url;
                    } else {
                        window.location.href = `/infinite-wiki/world/ruhr-neon-depths/wiki/${encodeURIComponent(title)}`;
                    }
                } catch (err) {
                    alert("Creation failed: " + err);
                    e.target.innerText = originalText;
                    e.target.style.pointerEvents = "auto";
                }
            }
        }
    });

    async function extractEvents() {
        if (!confirm("This will analyze the article to extract and graph historical events. Continue?")) return;

        const btn = document.querySelector('button[onclick="extractEvents()"]');
        const originalText = btn.innerText;
        btn.innerText = "Extracting...";
        btn.disabled = true;

        try {
            const response = await fetch('/infinite-wiki/world/ruhr-neon-depths/wiki/Tiefruhr/extract_events', {
                method: 'POST'
            });

            if (response.redirected) {
                window.location.href = response.url;
            } else {
                window.location.reload();
            }
        } catch (err) {
            alert("Extraction failed: " + err);
            btn.innerText = originalText;
            btn.disabled = false;
        }
    }

    async function integrateInfo() {
        if (!confirm("This will rewrite the article to include new information from the knowledge base. Continue?")) return;

        const btn = document.querySelector('button[onclick="integrateInfo()"]');
        const originalText = btn.innerText;
        btn.innerText = "Integrating...";
        btn.disabled = true;

        try {
            const response = await fetch('/infinite-wiki/world/ruhr-neon-depths/wiki/Tiefruhr/integrate', {
                method: 'POST'
            });

            if (response.redirected) {
                window.location.href = response.url;
            } else {
                window.location.reload();
            }
        } catch (err) {
            alert("Integration failed: " + err);
            btn.innerText = originalText;
            btn.disabled = false;
        }
    }
</script>

    </div>
    <script>
        function showLoading() {
            document.getElementById('loading-msg').style.display = 'block';
        }
    </script>
</body>

</html>